# Stalwart TLSA Updater for Cloudflare

This is a containerized Python script that keeps the TLSA records for a domain up-to-date with the SSL certificate of the domain generated by the Stalwart email server.

> [!WARNING]
> This is a temporary solution until Stalwart supports automatic TLSA record updates. Be aware that this script is not officially supported by Stalwart and the API of Stalwart may change at any time.

## Usage
If you're using Docker to run Stalwart, you can add the following service to the `docker-compose.yml` file:

```yaml
  tlsa-updater:
    image: ghcr.io/wardpieters/stalwart-cf-tlsa:latest
    env_file:
      - .env
```

In addition, you need to create a `.env` file in the same directory as the `docker-compose.yml` file with the contens of the `.env.example` file. Make sure to replace the placeholders with the actual values.
